># 登录注册接口文档  

>## cookie

>### token

1. token值为GUID，用于一个会话的登录  
2. token为服务器随机生成，但是该字符串窃取会导致登录状态的窃取 
3. 用户最后与服务器交互超过24小时，token将会作废
---

>##  登录接口  

---

>###  请求域名

https://example.com/login

>###  请求方式  
POST  
>###  请求参数  

|参数名   |	  参数类型|	是否必填|	参数说明|  
|---|---|---|---|
|username|	string	|否	|用户名|用户名|
|email|string|否|用户邮箱|  
|password|	string	|是	|16进制SHA256散列值|  

username 与 email 必填一项

---

>###  返回示例
{
  "code": 200,  
  "msg": "登录成功",  
}

---

>### 返回参数

|参数名|参数类型|是否可空|参数说明|
|---|---|---|---|
|code|int|是|登录状态码|
|msg|string|是|登录状态信息|

若注册成功，将会返回cookie


---

|状态码|信息|
|---|---|
|200|登录成功|
|208|已登录|
|201|密码错误|
|305|没有输入用户名或者邮箱|
|306|没有输入密码|
|310|输入了多个用户标识|
|317|密码错误|
|500|未知错误|

---

>### 其他
1.注意对反射型XSS的过滤

---
>## 检查是否已经登录

>###  请求方式  
GET
>###  请求参数  

带有会话（session）的cookie，也可以什么都不带

---

>###  返回示例
{
  "code": 200,  
  "msg": "已登录",  
}

---

>### 返回参数

|参数名|参数类型|是否可空|参数说明|
|---|---|---|---|
|code|int|是|登录状态码|
|msg|string|是|登录状态信息|

---

|状态码|信息|
|---|---|
|200|已登录|
|201|未登录|
|500|未知错误|

---
>## 退出登录 

>###  请求方式  
DELETE

>###  返回示例
{
  "code": 200,  
  "msg": "已退出登录",  
}

---

>### 返回参数

|参数名|参数类型|是否可空|参数说明|
|---|---|---|---|
|code|int|是|登录状态码|
|msg|string|是|登录状态信息|



---

|状态码|信息|
|---|---|
|200|已退出登录|
|201|未登录|
|500|未知错误|

---

>### 其他
1.注意对反射型XSS的过滤

---

>##  注册接口

---

>###  请求域名  
https://example.com/register

>###  请求方式
POST

>### 请求参数

|参数名   |	  参数类型|	是否必填|	参数说明|
|---|---|---|---|
|username|string|是|用户名|
|email|string|是|邮箱|
|password|string|是|SHA256|  

>###  返回示例
{
  "code": 200,  
  "msg": "RegSuccess",  
}

>###  返回参数
|参数名|参数类型|是否可空|参数说明|
|---|---|---|---|
|code|int|否||
|msg|string|否||
若注册成功，将返回cookie值

>###  状态码
|状态码|信息|
|---|---|
|200|注册成功|
|230|用户名已被注册|
|231|邮箱已被注册|
|300|没有输入用户名|
|301|没有输入密码|
|302|没有输入邮箱|
|305|邮箱格式错误|
|307|用户名过短或过长|
|310|输入了多个用户标识|
|500|未知错误|

>###  安全
1. <>"';为非法字符,前端可以做过滤，服务器遇到非法字符返回Exception